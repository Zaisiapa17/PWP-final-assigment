{% extends "layout.html" %}


{% block head %}
<!-- Bootstrap CSS -->
<link href="../static/plugins/bootstrap-5.1.3/bootstrap-5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
<link rel="stylesheet" href="../static/plugins/fontawesome-free/css/all.min.css">

<!-- custom css -->
<link rel="stylesheet" href="../static/css/style.css">

<title>halaman Produk</title>
{% endblock %}

{% block body %}

<body>
    <div class="container">
        <div class="row">
            <div class="col">
                <div id="carouselExampleSlidesOnly" class="carousel slide" data-bs-ride="carousel">
                    <div class="carousel-inner">
                        <div class="carousel-item active">
                            <img src="https://via.placeholder.com/640x270?text=1" class="d-block w-100" alt="...">
                        </div>
                        <div class="carousel-item">
                            <img src="https://via.placeholder.com/640x270?text=2" class="d-block w-100" alt="...">
                        </div>
                        <div class="carousel-item">
                            <img src="https://via.placeholder.com/640x270?text=3" class="d-block w-100" alt="...">
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="row my-3">
            <div class="col">
                <nav class="nav justify-content-center  py-2 mx-4">
                    <a class="nav-link text-black" aria-current="page" href="/index">Beranda</a>
                    <a class="nav-link text-secondary border-bottom" href="/products">Produk</a>
                    <a class="nav-link text-black" href="#">Kontak</a>
                </nav>
            </div>
        </div>
        <div class="row">
            <div class="col ms-4">
                <h2 class="custom-title-card-container">Produk Terlaris</h2>
            </div>
        </div>
        <div class="row mt-2">
            <div class="col">
                <div class="d-flex flex-wrap justify-content-start gap-sm-4 ms-4 custom-card-container"
                    id="produk-terlaris">
                    <div class="card" style="width: 12rem;">
                        <img src="https://via.placeholder.com/640x630?text=" class="card-img-top" alt="...">
                        <div class="card-body p-2">
                            <p class="card-text placeholder-glow mb-0">
                                <span class="placeholder col-7"></span>
                                <span class="placeholder col-4"></span>
                                <span class="placeholder col-4"></span>
                                <span class="placeholder col-7"></span>
                            </p>
                            <h5 class="card-title placeholder-glow">
                                <span class="placeholder col-8 placeholder-lg"></span>
                            </h5>
                            <p class="card-text placeholder-glow mb-0">
                                <span class="placeholder col-6 bg-success placeholder-sm"></span>
                            </p>
                            <p class="card-text placeholder-glow mb-0">
                                <span class="placeholder col-7 placeholder-sm bg-secondary"></span>
                            </p>
                        </div>
                    </div>
                    <div class="card" style="width: 12rem;">
                        <img src="https://via.placeholder.com/640x630?text=" class="card-img-top" alt="...">
                        <div class="card-body p-2">
                            <p class="card-text placeholder-glow mb-0">
                                <span class="placeholder col-7"></span>
                                <span class="placeholder col-4"></span>
                                <span class="placeholder col-4"></span>
                                <span class="placeholder col-7"></span>
                            </p>
                            <h5 class="card-title placeholder-glow">
                                <span class="placeholder col-8 placeholder-lg"></span>
                            </h5>
                            <p class="card-text placeholder-glow mb-0">
                                <span class="placeholder col-6 bg-success placeholder-sm"></span>
                            </p>
                            <p class="card-text placeholder-glow mb-0">
                                <span class="placeholder col-7 placeholder-sm bg-secondary"></span>
                            </p>
                        </div>
                    </div>
                    <div class="card" style="width: 12rem;">
                        <img src="https://via.placeholder.com/640x630?text=" class="card-img-top" alt="...">
                        <div class="card-body p-2">
                            <p class="card-text placeholder-glow mb-0">
                                <span class="placeholder col-7"></span>
                                <span class="placeholder col-4"></span>
                                <span class="placeholder col-4"></span>
                                <span class="placeholder col-7"></span>
                            </p>
                            <h5 class="card-title placeholder-glow">
                                <span class="placeholder col-8 placeholder-lg"></span>
                            </h5>
                            <p class="card-text placeholder-glow mb-0">
                                <span class="placeholder col-6 bg-success placeholder-sm"></span>
                            </p>
                            <p class="card-text placeholder-glow mb-0">
                                <span class="placeholder col-7 placeholder-sm bg-secondary"></span>
                            </p>
                        </div>
                    </div>
                    <div class="card" style="width: 12rem;">
                        <img src="https://via.placeholder.com/640x630?text=" class="card-img-top" alt="...">
                        <div class="card-body p-2">
                            <p class="card-text placeholder-glow mb-0">
                                <span class="placeholder col-7"></span>
                                <span class="placeholder col-4"></span>
                                <span class="placeholder col-4"></span>
                                <span class="placeholder col-7"></span>
                            </p>
                            <h5 class="card-title placeholder-glow">
                                <span class="placeholder col-8 placeholder-lg"></span>
                            </h5>
                            <p class="card-text placeholder-glow mb-0">
                                <span class="placeholder col-6 bg-success placeholder-sm"></span>
                            </p>
                            <p class="card-text placeholder-glow mb-0">
                                <span class="placeholder col-7 placeholder-sm bg-secondary"></span>
                            </p>
                        </div>
                    </div>
                    <div class="card" style="width: 12rem;">
                        <img src="https://via.placeholder.com/640x630?text=" class="card-img-top" alt="...">
                        <div class="card-body p-2">
                            <p class="card-text placeholder-glow mb-0">
                                <span class="placeholder col-7"></span>
                                <span class="placeholder col-4"></span>
                                <span class="placeholder col-4"></span>
                                <span class="placeholder col-7"></span>
                            </p>
                            <h5 class="card-title placeholder-glow">
                                <span class="placeholder col-8 placeholder-lg"></span>
                            </h5>
                            <p class="card-text placeholder-glow mb-0">
                                <span class="placeholder col-6 bg-success placeholder-sm"></span>
                            </p>
                            <p class="card-text placeholder-glow mb-0">
                                <span class="placeholder col-7 placeholder-sm bg-secondary"></span>
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="row mt-4">
            <div class="col ms-4">
                <h2 class="custom-title-card-container">Produk Populer</h2>
            </div>
        </div>
        <div class="row mt-2">
            <div class="col">
                <div class="d-flex flex-wrap justify-content-start gap-sm-4 ms-4 custom-card-container"
                    id="produk-populer">
                    <div class="card" style="width: 12rem;">
                        <img src="https://via.placeholder.com/640x630?text=" class="card-img-top" alt="...">
                        <div class="card-body p-2">
                            <p class="card-text placeholder-glow mb-0">
                                <span class="placeholder col-7"></span>
                                <span class="placeholder col-4"></span>
                                <span class="placeholder col-4"></span>
                                <span class="placeholder col-7"></span>
                            </p>
                            <h5 class="card-title placeholder-glow">
                                <span class="placeholder col-8 placeholder-lg"></span>
                            </h5>
                            <p class="card-text placeholder-glow mb-0">
                                <span class="placeholder col-6 bg-success placeholder-sm"></span>
                            </p>
                            <p class="card-text placeholder-glow mb-0">
                                <span class="placeholder col-7 placeholder-sm bg-secondary"></span>
                            </p>
                        </div>
                    </div>
                    <div class="card" style="width: 12rem;">
                        <img src="https://via.placeholder.com/640x630?text=" class="card-img-top" alt="...">
                        <div class="card-body p-2">
                            <p class="card-text placeholder-glow mb-0">
                                <span class="placeholder col-7"></span>
                                <span class="placeholder col-4"></span>
                                <span class="placeholder col-4"></span>
                                <span class="placeholder col-7"></span>
                            </p>
                            <h5 class="card-title placeholder-glow">
                                <span class="placeholder col-8 placeholder-lg"></span>
                            </h5>
                            <p class="card-text placeholder-glow mb-0">
                                <span class="placeholder col-6 bg-success placeholder-sm"></span>
                            </p>
                            <p class="card-text placeholder-glow mb-0">
                                <span class="placeholder col-7 placeholder-sm bg-secondary"></span>
                            </p>
                        </div>
                    </div>
                    <div class="card" style="width: 12rem;">
                        <img src="https://via.placeholder.com/640x630?text=" class="card-img-top" alt="...">
                        <div class="card-body p-2">
                            <p class="card-text placeholder-glow mb-0">
                                <span class="placeholder col-7"></span>
                                <span class="placeholder col-4"></span>
                                <span class="placeholder col-4"></span>
                                <span class="placeholder col-7"></span>
                            </p>
                            <h5 class="card-title placeholder-glow">
                                <span class="placeholder col-8 placeholder-lg"></span>
                            </h5>
                            <p class="card-text placeholder-glow mb-0">
                                <span class="placeholder col-6 bg-success placeholder-sm"></span>
                            </p>
                            <p class="card-text placeholder-glow mb-0">
                                <span class="placeholder col-7 placeholder-sm bg-secondary"></span>
                            </p>
                        </div>
                    </div>
                    <div class="card" style="width: 12rem;">
                        <img src="https://via.placeholder.com/640x630?text=" class="card-img-top" alt="...">
                        <div class="card-body p-2">
                            <p class="card-text placeholder-glow mb-0">
                                <span class="placeholder col-7"></span>
                                <span class="placeholder col-4"></span>
                                <span class="placeholder col-4"></span>
                                <span class="placeholder col-7"></span>
                            </p>
                            <h5 class="card-title placeholder-glow">
                                <span class="placeholder col-8 placeholder-lg"></span>
                            </h5>
                            <p class="card-text placeholder-glow mb-0">
                                <span class="placeholder col-6 bg-success placeholder-sm"></span>
                            </p>
                            <p class="card-text placeholder-glow mb-0">
                                <span class="placeholder col-7 placeholder-sm bg-secondary"></span>
                            </p>
                        </div>
                    </div>
                    <div class="card" style="width: 12rem;">
                        <img src="https://via.placeholder.com/640x630?text=" class="card-img-top" alt="...">
                        <div class="card-body p-2">
                            <p class="card-text placeholder-glow mb-0">
                                <span class="placeholder col-7"></span>
                                <span class="placeholder col-4"></span>
                                <span class="placeholder col-4"></span>
                                <span class="placeholder col-7"></span>
                            </p>
                            <h5 class="card-title placeholder-glow">
                                <span class="placeholder col-8 placeholder-lg"></span>
                            </h5>
                            <p class="card-text placeholder-glow mb-0">
                                <span class="placeholder col-6 bg-success placeholder-sm"></span>
                            </p>
                            <p class="card-text placeholder-glow mb-0">
                                <span class="placeholder col-7 placeholder-sm bg-secondary"></span>
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="row mt-4">
            <div class="col ms-4">
                <h2 class="custom-title-card-container">Rekomendasi Untukmu</h2>
            </div>
        </div>
        <div class="row mt-2">
            <div class="col">
                <div class="d-flex flex-wrap justify-content-start gap-sm-4 ms-4 custom-card-container"
                    id="produk-rekomendasi">
                    <div class="card" style="width: 12rem;">
                        <img src="https://via.placeholder.com/640x630?text=" class="card-img-top" alt="...">
                        <div class="card-body p-2">
                            <p class="card-text placeholder-glow mb-0">
                                <span class="placeholder col-7"></span>
                                <span class="placeholder col-4"></span>
                                <span class="placeholder col-4"></span>
                                <span class="placeholder col-7"></span>
                            </p>
                            <h5 class="card-title placeholder-glow">
                                <span class="placeholder col-8 placeholder-lg"></span>
                            </h5>
                            <p class="card-text placeholder-glow mb-0">
                                <span class="placeholder col-6 bg-success placeholder-sm"></span>
                            </p>
                            <p class="card-text placeholder-glow mb-0">
                                <span class="placeholder col-7 placeholder-sm bg-secondary"></span>
                            </p>
                        </div>
                    </div>
                    <div class="card" style="width: 12rem;">
                        <img src="https://via.placeholder.com/640x630?text=" class="card-img-top" alt="...">
                        <div class="card-body p-2">
                            <p class="card-text placeholder-glow mb-0">
                                <span class="placeholder col-7"></span>
                                <span class="placeholder col-4"></span>
                                <span class="placeholder col-4"></span>
                                <span class="placeholder col-7"></span>
                            </p>
                            <h5 class="card-title placeholder-glow">
                                <span class="placeholder col-8 placeholder-lg"></span>
                            </h5>
                            <p class="card-text placeholder-glow mb-0">
                                <span class="placeholder col-6 bg-success placeholder-sm"></span>
                            </p>
                            <p class="card-text placeholder-glow mb-0">
                                <span class="placeholder col-7 placeholder-sm bg-secondary"></span>
                            </p>
                        </div>
                    </div>
                    <div class="card" style="width: 12rem;">
                        <img src="https://via.placeholder.com/640x630?text=" class="card-img-top" alt="...">
                        <div class="card-body p-2">
                            <p class="card-text placeholder-glow mb-0">
                                <span class="placeholder col-7"></span>
                                <span class="placeholder col-4"></span>
                                <span class="placeholder col-4"></span>
                                <span class="placeholder col-7"></span>
                            </p>
                            <h5 class="card-title placeholder-glow">
                                <span class="placeholder col-8 placeholder-lg"></span>
                            </h5>
                            <p class="card-text placeholder-glow mb-0">
                                <span class="placeholder col-6 bg-success placeholder-sm"></span>
                            </p>
                            <p class="card-text placeholder-glow mb-0">
                                <span class="placeholder col-7 placeholder-sm bg-secondary"></span>
                            </p>
                        </div>
                    </div>
                    <div class="card" style="width: 12rem;">
                        <img src="https://via.placeholder.com/640x630?text=" class="card-img-top" alt="...">
                        <div class="card-body p-2">
                            <p class="card-text placeholder-glow mb-0">
                                <span class="placeholder col-7"></span>
                                <span class="placeholder col-4"></span>
                                <span class="placeholder col-4"></span>
                                <span class="placeholder col-7"></span>
                            </p>
                            <h5 class="card-title placeholder-glow">
                                <span class="placeholder col-8 placeholder-lg"></span>
                            </h5>
                            <p class="card-text placeholder-glow mb-0">
                                <span class="placeholder col-6 bg-success placeholder-sm"></span>
                            </p>
                            <p class="card-text placeholder-glow mb-0">
                                <span class="placeholder col-7 placeholder-sm bg-secondary"></span>
                            </p>
                        </div>
                    </div>
                    <div class="card" style="width: 12rem;">
                        <img src="https://via.placeholder.com/640x630?text=" class="card-img-top" alt="...">
                        <div class="card-body p-2">
                            <p class="card-text placeholder-glow mb-0">
                                <span class="placeholder col-7"></span>
                                <span class="placeholder col-4"></span>
                                <span class="placeholder col-4"></span>
                                <span class="placeholder col-7"></span>
                            </p>
                            <h5 class="card-title placeholder-glow">
                                <span class="placeholder col-8 placeholder-lg"></span>
                            </h5>
                            <p class="card-text placeholder-glow mb-0">
                                <span class="placeholder col-6 bg-success placeholder-sm"></span>
                            </p>
                            <p class="card-text placeholder-glow mb-0">
                                <span class="placeholder col-7 placeholder-sm bg-secondary"></span>
                            </p>
                        </div>
                    </div>
                    <div class="card" style="width: 12rem;">
                        <img src="https://via.placeholder.com/640x630?text=" class="card-img-top" alt="...">
                        <div class="card-body p-2">
                            <p class="card-text placeholder-glow mb-0">
                                <span class="placeholder col-7"></span>
                                <span class="placeholder col-4"></span>
                                <span class="placeholder col-4"></span>
                                <span class="placeholder col-7"></span>
                            </p>
                            <h5 class="card-title placeholder-glow">
                                <span class="placeholder col-8 placeholder-lg"></span>
                            </h5>
                            <p class="card-text placeholder-glow mb-0">
                                <span class="placeholder col-6 bg-success placeholder-sm"></span>
                            </p>
                            <p class="card-text placeholder-glow mb-0">
                                <span class="placeholder col-7 placeholder-sm bg-secondary"></span>
                            </p>
                        </div>
                    </div>
                    <div class="card" style="width: 12rem;">
                        <img src="https://via.placeholder.com/640x630?text=" class="card-img-top" alt="...">
                        <div class="card-body p-2">
                            <p class="card-text placeholder-glow mb-0">
                                <span class="placeholder col-7"></span>
                                <span class="placeholder col-4"></span>
                                <span class="placeholder col-4"></span>
                                <span class="placeholder col-7"></span>
                            </p>
                            <h5 class="card-title placeholder-glow">
                                <span class="placeholder col-8 placeholder-lg"></span>
                            </h5>
                            <p class="card-text placeholder-glow mb-0">
                                <span class="placeholder col-6 bg-success placeholder-sm"></span>
                            </p>
                            <p class="card-text placeholder-glow mb-0">
                                <span class="placeholder col-7 placeholder-sm bg-secondary"></span>
                            </p>
                        </div>
                    </div>
                    <div class="card" style="width: 12rem;">
                        <img src="https://via.placeholder.com/640x630?text=" class="card-img-top" alt="...">
                        <div class="card-body p-2">
                            <p class="card-text placeholder-glow mb-0">
                                <span class="placeholder col-7"></span>
                                <span class="placeholder col-4"></span>
                                <span class="placeholder col-4"></span>
                                <span class="placeholder col-7"></span>
                            </p>
                            <h5 class="card-title placeholder-glow">
                                <span class="placeholder col-8 placeholder-lg"></span>
                            </h5>
                            <p class="card-text placeholder-glow mb-0">
                                <span class="placeholder col-6 bg-success placeholder-sm"></span>
                            </p>
                            <p class="card-text placeholder-glow mb-0">
                                <span class="placeholder col-7 placeholder-sm bg-secondary"></span>
                            </p>
                        </div>
                    </div>
                    <div class="card" style="width: 12rem;">
                        <img src="https://via.placeholder.com/640x630?text=" class="card-img-top" alt="...">
                        <div class="card-body p-2">
                            <p class="card-text placeholder-glow mb-0">
                                <span class="placeholder col-7"></span>
                                <span class="placeholder col-4"></span>
                                <span class="placeholder col-4"></span>
                                <span class="placeholder col-7"></span>
                            </p>
                            <h5 class="card-title placeholder-glow">
                                <span class="placeholder col-8 placeholder-lg"></span>
                            </h5>
                            <p class="card-text placeholder-glow mb-0">
                                <span class="placeholder col-6 bg-success placeholder-sm"></span>
                            </p>
                            <p class="card-text placeholder-glow mb-0">
                                <span class="placeholder col-7 placeholder-sm bg-secondary"></span>
                            </p>
                        </div>
                    </div>
                    <div class="card" style="width: 12rem;">
                        <img src="https://via.placeholder.com/640x630?text=" class="card-img-top" alt="...">
                        <div class="card-body p-2">
                            <p class="card-text placeholder-glow mb-0">
                                <span class="placeholder col-7"></span>
                                <span class="placeholder col-4"></span>
                                <span class="placeholder col-4"></span>
                                <span class="placeholder col-7"></span>
                            </p>
                            <h5 class="card-title placeholder-glow">
                                <span class="placeholder col-8 placeholder-lg"></span>
                            </h5>
                            <p class="card-text placeholder-glow mb-0">
                                <span class="placeholder col-6 bg-success placeholder-sm"></span>
                            </p>
                            <p class="card-text placeholder-glow mb-0">
                                <span class="placeholder col-7 placeholder-sm bg-secondary"></span>
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <footer class="py-3 my-4">
        <ul class="nav justify-content-center border-bottom pb-3 mb-3">
            <li class="nav-item"><a href="#" class="nav-link px-2 text-muted">Home</a></li>
            <li class="nav-item"><a href="#" class="nav-link px-2 text-muted">Features</a></li>
            <li class="nav-item"><a href="#" class="nav-link px-2 text-muted">Pricing</a></li>
            <li class="nav-item"><a href="#" class="nav-link px-2 text-muted">FAQs</a></li>
            <li class="nav-item"><a href="#" class="nav-link px-2 text-muted">About</a></li>
        </ul>
        <p class="text-center text-muted">Â© 2021 Company, Inc</p>
    </footer>
    <script src="../static/plugins/jquery/jquery.min.js"></script>
    <script>
        // Function to generate product card HTML
        function generateProductCard(item) {
            let price = item.price;
            let price_idr = price.toLocaleString('id-ID', { maximumFractionDigits: 0 });

            return (`
                <div class="card" style="width: 12rem; cursor: pointer;">
                    <img src="https://via.placeholder.com/640x630?text=3" class="card-img-top" alt="...">
                    <div class="card-body p-2 py-3">
                        <h6 class="card-text">${item.product_name}</h6>
                        <h5 class="card-title">Rp${price_idr}</h5>
                        <span class="badge bg-light text-success">${item.brand_info.brand_address}</span>
                        <span class="d-block badge text-secondary text-start fw-normal">${item.sold_item} terjual</span>
                    </div>
                </div>
            `);
        }

        // Function to generate product items based on specific criteria
        function generateProductItems(container, products, criteria, maxItems) {
            container.html('');
            let totalItems = 0;

            for (let i = 0; i < products.length; i++) {
                let currentItem = products[i];

                if (!criteria(currentItem)) {
                    continue;
                }

                let item = generateProductCard(currentItem);
                container.append(item);

                totalItems++;
                if (totalItems >= maxItems) {
                    break;
                }
            }
        }


        $.ajax({
            type: "GET",
            url: "http://127.0.0.1:3000/product-catalogs",
            dataType: "json",
            beforeSend: function () {
            },
            success: function (respond) {

                // Usage for produk terlaris
                generateProductItems($("#produk-terlaris"), respond.values, (item) => item.sold_item >= 50, 5);

                // Usage for produk populer
                generateProductItems($("#produk-populer"), respond.values, (item) => item.price >= 100000, 5);

                // Usage for rekomendasi untukmu
                generateProductItems($("#produk-rekomendasi"), respond.values, () => true, Infinity);
            },
            error: function () {
                alertError("Error");
            },
            complete: function () {
            }
        });
    </script>
</body>
{% endblock %}